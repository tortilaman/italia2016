function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=a.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}$(document).ready(function(){function e(e,t){return Math.round(Math.random()*(t-e+1)+e)}function t(){var t,a,i,n;$(window).outerWidth()>=c.phone?($(window).outerWidth()>=c.phone&&$(window).outerWidth()<c.tablet?(r=["-4vw","0","4vw"],o=["2vw","6vw","30vw","60vw"]):$(window).outerWidth()>=c.tablet&&$(window).outerWidth()<c.laptop?(r=["-4vw","0","4vw"],o=["2vw","6vw","16vw","30vw"]):$(window).outerWidth()>=c.laptop&&(r=["-1.5vw","0","2vw"],o=["2vw","3vw","9vw","15vw"]),d.each(function(s,l){for(;a==t;)a=r[Math.floor(Math.random()*r.length)];for(;n==i;)n=o[Math.floor(Math.random()*o.length)];$(this).css("left",a),$(this).css("margin-top",n),t=a,i=n;var d={0:"Up",1:"Down",2:"Left",3:"Right"};$(this).attr("data-dir",d[e(0,3)])})):d.each(function(){var t={0:"Up",1:"Down"};$(this).attr("data-dir",t[e(0,1)])})}function a(){s=!0,$("article img, article .entry-title, #page-info h1, #page-info p, [id*='year-title-']").addClass("oHidden"),$("#d-filter form").addClass("lSearch"),$("#search").focus(),$(window).outerWidth()>c.phone&&($("#d-filter").css({height:"1vw",width:"98vw",right:"1vw",left:"1vw"}),$(".design main").css({margin:"1vw",padding:"5vw 4vw"})),$("#d-filter span").addClass("active")}function i(){$("article img, article .entry-title, #page-info h1, #page-info p, [id*='year-title-']").removeClass("oHidden"),$(window).outerWidth()>c.phone?($("#d-filter").css({height:"6vw",width:"90vw",right:"5vw",left:"5vw"}),$(".design main").css({margin:"6vw 5vw",padding:"0.25em"})):$("#d-filter").css({height:"12vmin",width:"90%",right:"8%",left:"2%"}),$("#d-filter form").removeClass("lSearch"),$("#d-filter span").removeClass("active"),$(window).focus(),s=!1}function n(){$("article[data-title]").each(function(){var e,t=$(this).attr("data-tags"),a=$(this).attr("data-title").toLowerCase(),i=""===t?a:a.concat(" ",t),n=!1,r=$("#search").val().toLowerCase(),o=new RegExp("(^| )"+r,"i");o.test(i)?(e="true"==$(this).attr("data-show")?!1:!0,$(this).attr("data-show","true"),n=!0):(e="false"==$(this).attr("data-show")?!1:!0,$(this).attr("data-show","false"),n=!1),n&&e?($(this).animateCss("In"),$(this).removeClass("dHidden"),$(this).next(".blank").removeClass("dHidden")):!n&&e&&($(this).animateCss("Out"),$(this).addClass("dHidden"),$(this).next(".blank").addClass("dHidden"))});for(var e=2012;2016>=e;e++)$("#flex-grid-"+e+" article").not(".dHidden").length?$("#year-title-"+e).show("fast"):$("#year-title-"+e).hide("fast");$("article[data-title]").hasClass("dHidden")?$("#page-info").addClass("dHidden"):$("#page-info").removeClass("dHidden"),$("[id*='flex-grid-'] article").not(".dHidden").length?$("main").removeClass("noResults"):$("main").addClass("noResults")}var r,o,s=!1,l="",d=$("[class*='-entry']:not(.blank)"),c={phone:480,tablet:700,laptop:1024,desktop:1600};$("#search").focus(),$.fn.extend({animateCss:function(e){var t="fade"+e+$(this).attr("data-dir");$(this).addClass("animated "+t).one("animationend",function(e){$(this).removeClass("animated "+t)})}}),t();var h=$("[data-title]"),u=[],f=[],v=["is","in"];h.each(function(e,t){u.push({label:$(this).attr("data-title"),category:"Interviewees"});var a=$(this).attr("data-tags").split(",");a.forEach(function(e,t,a){-1===$.inArray(e,f)&&""!==e&&(u.push({label:e,category:"Category"}),f.push(e))})}),u.sort(function(e,t){if("Category"==e.category&&"Interviewees"==t.category)return-1;if("Interviewees"==e.category&&"Category"==t.category)return 1;if("Interviewees"==e.category&&"Interviewees"==t.category){var a=e.label.split(" "),i=t.label.split(" ");return a[a.length-1]<i[i.length-1]?-1:a[a.length-1]>i[i.length-1]?1:0}return"Category"==e.category&&"Category"==t.category?e.label<t.label?-1:e.label>t.label?1:0:void 0}),$("#search").autocomplete({source:function(e,t){var a=$.ui.autocomplete.filter(u,e.term);if(""===e.term){var i=u.map(function(e){return e.category}).indexOf("Interviewees");a=u.slice(0,i)}a.length||(a=[{label:"Nothing to see here",category:"Oops!"}]),t(a)},minLength:0,delay:0,select:function(e,t){$("#search").val(t.item.label),$("#d-filter span").addClass("active"),requestAnimationFrame(n),i(),$(window).focus()}}).data("ui-autocomplete")._renderItem=function(e,t){var a=$("#search").val(),i=t.label.replace(new RegExp("(^| )("+a+")","ig"),'$1<span class="highlight">$2</span>');return $("<li></li>").data("item.autocomplete",t).append("<a>"+i+"</a>").appendTo(e)},$("#search").data("ui-autocomplete")._renderMenu=function(e,t){var a=this,i="";$.each(t,function(t,n){var r;n.category!=i&&(e.append("<li class='ui-autocomplete-category'>"+n.category+"</li>"),i=n.category),r=a._renderItemData(e,n),n.category&&r.attr("aria-label",n.category+" : "+n.label)})},$.ui.autocomplete.filter=function(e,t){var a=new RegExp("(^| )"+$.ui.autocomplete.escapeRegex(t),"i");return $.grep(e,function(e){var t=e.label.split(" ").filter(function(e){return v.indexOf(e)<0}).join(" ");return a.test(t)})},$(".mobile-year-menu").on("click",function(e){$("#year-links ul").toggleClass("open")}),$("#year-links a").on("click",function(e){$("#year-links ul").removeClass("open")}),$(window).on("resize",t());var w=window.matchMedia("(orientation: portrait)");w.addListener(t),$("#searchForm > span").on("click",function(e){$("#search").val(""),requestAnimationFrame(n),$("#searchForm").hasClass("lSearch")&&i(),$(this).removeClass("active")}),$("#search").focusin(function(){$(this).val(""),$("main").removeClass("noResults")}),$("#search").focusout(function(){i()}),$("#searchForm").submit(function(){return $("#search").blur(),""!==$("#search").val()&&$("#d-filter span").addClass("active"),!1}),$("#search, #search-btn").on("click",function(){$("#search").val(""),$("main").removeClass("noResults"),a(),$("#search").autocomplete("search",""),requestAnimationFrame(n)}),$("#search").on("keyup",function(e){27===e.keyCode?($(this).val(""),i()):(s||a(),requestAnimationFrame(n))}),$(window).on("keyup",function(e){!s&&e.keyCode>=65&&e.keyCode<=90&&(l=String.fromCharCode(e.keyCode).toLowerCase(),$("#search").focus(),$("#search").val(l),a())})});
//# sourceMappingURL=designIndex-min.js.map