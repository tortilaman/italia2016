
// ==============================
//
//	Things that appear on most pages and aren't
//	general typography are here.
//
// ==============================

*,
*::after,
*::before {
	margin    : 0;
	padding   : 0;
	border    : none;

	box-sizing: border-box;
}

body {
	background-color: $color4;
	@include respond-to(tablet) {
		background-color: transparent;
	}
}

.clearfix:after {
	display: block;
	clear  : both;
	content: "";
}

/****************************
888888b.    .d8888b.
888  "88b  d88P  Y88b
888  .88P  888    888
8888888K.  888
888  "Y88b 888  88888
888    888 888    888
888   d88P Y88b  d88P
8888888P"   "Y8888P88
****************************/

.bg {
	&::after {
		display       : block;
		position      : absolute;
		top           : 0;
		left          : 0;
		width         : 100%;
		height        : 100%;
		content       : '';
		z-index       : 1;

		mix-blend-mode: multiply;
	}
}

.green-bg {
	@extend .bg;

	&::after {
		background: $color1;
	}
}

.blue-bg {
	@extend .bg;

	&::after {
		background: $color2;
	}
}

.tan-bg {
	@extend .bg;

	&::after {
		background: $color4;
	}
}

#bg {
	opacity   : 0;
	visibility: hidden;
	@include respond-to(tablet) {
		position        : fixed;
		top             : 6vw;
		left            : 6vw;
		width           : 88vw;
		height          : calc(100vh - 6vw);
		background-color: $color4;
		opacity         : 1;
		visibility      : visible;
		z-index         : 1;
	}
}

/*********************************************
888b    888
8888b   888
88888b  888
888Y88b 888  8888b.  888  888
888 Y88b888     "88b 888  888
888  Y88888 .d888888 Y88  88P
888   Y8888 888  888  Y8bd8P
888    Y888 "Y888888   Y88P
*********************************************/

#home-btn {
	position     : absolute;
	top          : 0;
	left         : 0;
	width        : auto;
	height       : 12vmin;
	margin-top   : 0;
	padding      : 2vw;
	border-bottom: none;
	opacity      : 1;
	@include respond-to(tablet) {
		display   : block;
		position  : fixed;
		top       : 0;
		left      : 0;
		width     : 6vw;
		height    : 6vw;
		padding   : 0;
		text-align: center;
		z-index   : 10;

		img {
			width     : 100%;
			height    : auto;
			margin-top: 50%;
			padding   : 0 0.5vw 0 1vw;
			transform : translateY(-50%);
		}
	}

	img {
		display : block;
		position: relative;
		width   : auto;
		height  : 100%;
	}
}

.home #home-btn {
	@include respond-to(tablet) {
		display: none;
	}
}

.design #home-btn,
.italia #home-btn,
.team #home-btn,
.team-vid #home-btn {
	z-index: 202;
}

header.header {
	display         : block;
	position        : absolute;
	top             : 0;
	left            : 0;
	width           : 100%;
	height          : 12vw; //Is this necessary?
	padding         : 0;
	background-color: white;
	text-align      : left;
	z-index         : 210;
	@include respond-to(tablet) {
		position  : fixed;
		// top       : 48vh;
		top       : 6vw;
		left      : 0;
		width     : 100vw;
		// height    : 4vh;
		height    : calc(100vh - 6vw);
		min-height: 0;
		background: none;
		text-align: center;
		z-index   : 1;
	}

	&.menuOpen {
		position: fixed;
		top     : 12vmin;
	}
}

nav {
	display: block;
	height : 100%;

	ul {
		display        : flex !important;
		flex-direction : row;
		flex-wrap      : nowrap;
		align-items    : center;
		justify-content: space-around;
		height         : 100%;
		margin         : 0 2vw 0 20vw;
		list-style     : none;
		@include respond-to(tablet) {
			flex-wrap      : nowrap;
			justify-content: space-between;
			width          : 100%;
			margin         : 0;
		}

		li {
			display               : inline-block;
			height                : 100%;
			line-height           : 1.5;
			text-align            : center;
			// margin                : 0.5vh 0;
			// background            : $color4;

			font-variant-ligatures: no-common-ligatures;
			@include respond-to(tablet) {
				width           : 6vw;
				// line-height     : 6vw;
				// height          : 6vw;
				height          : calc(100vh - 6vw);
				margin          : 0;
				padding         : 0;
				transform-origin: center center;
				background      : none;
				text-align      : center;

				// &:first-of-type {
				// 	transform: rotateZ(270deg);
				// }
				//
				// &:last-of-type {
				// 	transform: rotateZ(90deg);
				// }
			}
		}
	}

	a {
		//Vertical Centering hack...
		display:block;
		position:relative;
		height                 : 12vmin;
		color                  : $color5;
		font-family            : "Header";
		font-size              : 2em;
		font-size              : $pSize;
		font-smoothing         : antialiased;
		line-height            : 12vmin;
		//Chrome hack to fix weird text anti-aliasing fuzziness...

		backface-visibility    : hidden;
		-webkit-font-smoothing : antialiased;
		@include respond-to(tablet) {
			// height     : auto;
			// line-height: 1;
			height     : calc(100vh - 6vw);
			color      : $color5;
			font-family: "SubHead";
			font-size  : 1.2em;
			line-height: calc(100vh - 6vw);

			span {
				display         : inline-block;
				position        : relative;
				transform-origin: center center;

				&::before {
					position        : absolute;
					top             : 1.1em;
					left            : 0;
					width           : 100%;
					height          : 0.1em;
					transform       : scaleX(1);
					transform-origin: left;
					transition      : all 0.2s ease-in-out;
					background-color: $color5;
					content         : '';
					visibility      : hidden;
					mix-blend-mode  : multiply;
				}

				&:first-of-type {
					transform: rotateZ(270deg);
				}

				&:last-of-type {
					transform: rotateZ(90deg);
				}
			}

			//How hovering on link affects span text.
			&:hover span::before {
				transform : scaleX(1);
				visibility: visible;
			}
		}
		-moz-osx-font-smoothing: grayscale;

		&.sel::before {
			left      : 0;
			transform : scaleX(1);
			visibility: visible;
		}

		&:hover {
			font-smoothing         : antialiased;

			backface-visibility    : hidden;
			-webkit-font-smoothing : antialiased;
			-moz-osx-font-smoothing: grayscale;
		}
	}
}

/*********************************************
888b     d888          d8b
8888b   d8888          Y8P
88888b.d88888
888Y88888P888  8888b.  888 88888b.
888 Y888P 888     "88b 888 888 "88b
888  Y8P  888 .d888888 888 888  888
888   "   888 888  888 888 888  888
888       888 "Y888888 888 888  888
*********************************************/

main.design,
main.team #flex-grid-team .inner {
	display        : flex;
	position       : relative;
	flex-flow      : row wrap;
	justify-content: space-between;
	width          : 100%;
	min-height     : 85vh;
	margin         : 12vw 0 0;
	padding        : 0;
	transition     : all 0.5s;
	@include respond-to(tablet) {
		width : 88vw;
		margin: 6vw 6vw 0;
		// margin-bottom: 18vw;
	}
}

main.design {
	margin-top: 20vw;
	@include respond-to(laptop) {
		min-height: calc(100vh - 12vw);
		margin-top: 12vw;
	}
	@include respond-to(tablet) {
		margin-top: 6vw;
	}
}

main.italia,
main.v {
	margin-top: 12vw;
	@include respond-to(tablet) {
		margin-top: 0;
	}
}

main.team {
	background-color: $color4;
	@include respond-to(tablet) {
		background: none;
	}

	#flex-grid-team .inner {
		background: none;
		@include respond-to(tablet) {}
	}
}

/*********************************************
888b     d888 d8b
8888b   d8888 Y8P
88888b.d88888
888Y88888P888 888 .d8888b   .d8888b
888 Y888P 888 888 88K      d88P"
888  Y8P  888 888 "Y8888b. 888
888   "   888 888      X88 Y88b.
888       888 888  88888P'  "Y8888P
*********************************************/

// .b-lazy {
// 	opacity: 0;
// 	// transition: opacity 1s ease-in-out;
// }

// .b-lazy.b-loaded {
// 	opacity           : 0;
// 	opacity           : 0.5;
// 	-moz-transition   : opacity 0.5s ease-out;
// 	-webkit-transition: opacity 0.5s ease-out;
// 	-o-transition     : opacity 0.5s ease-out;
// 	transition        : opacity 0.5s ease-out;
// 	// opacity   : 0.5;
// 	// transition: opacity 1s ease-in-out;
// }

/* fade image in after load */
.lazyloading {
	transition: opacity 500ms ease-in-out;
	opacity   : 0 !important;
}

.lazyloaded {
	transition: opacity 500ms ease-in-out;
	opacity   : 1;
}

//Visually hide content but leave accessible to screen readers
.aHidden {
	position: absolute !important;
	width   : 1px !important;
	height  : 1px !important;
	padding : 0 !important;
	border  : 0 !important;
	overflow: hidden;
	/* IE6, IE7 */

	clip    : rect(1px, 1px, 1px, 1px);
	clip    : rect(1px 1px 1px 1px);
}

.oHidden {
	opacity   : 0 !important;
	visibility: hidden;
}

.dHidden {
	display: none !important;
}

// 8888888
//   888
//   888
//   888   .d8888b .d88b.  88888b.  .d8888b
//   888  d88P"   d88""88b 888 "88b 88K
//   888  888     888  888 888  888 "Y8888b.
//   888  Y88b.   Y88..88P 888  888      X88
// 8888888 "Y8888P "Y88P"  888  888  88888P'
//
// =============================================================================

$tcon-size: 8vw !default;
$tcon-transition: 0.3s !default;
$tcon-jstransform: 'tcon-transform' !default;
$tcon-menu-radius: 0 !default;
$tcon-menu-color: $color1 !default;
$tcon-menu-arrowleft-transformation: ( transform: scale3d(0.8, 0.8, 0.8) rotate3d(0, 0, 1, 90deg) ) !default;
$tcon-menu-arrow360left-transformation: ( transform: scale3d(0.8, 0.8, 0.8) rotate3d(0, 0, 1, 360deg) ) !default;

.tcon {
	display                    : flex;
	align-items                : center;
	justify-content            : center;
	width                      : $tcon-size;
	height                     : $tcon-size;
	transition                 : $tcon-transition;
	border                     : none;
	outline                    : none;
	background                 : transparent;
	cursor                     : pointer;

	appearance                 : none;
	-webkit-tap-highlight-color: transparent;
	-webkit-tap-highlight-color: rgba(0,0,0,0);
	user-select                : none;

	> * {
		display: block;
	}

	&:focus,
	&:hover {
		outline: none; // see issue #36 https://github.com/grayghostvisuals/transformicons/issues/36
	}

	&::-moz-focus-inner {
		border: 0;
	}
}
@mixin tcon-menu-lines {
	display       : inline-block;
	width         : $tcon-size;
	height        : ($tcon-size / 7);
	transition    : $tcon-transition;
	border-radius : $tcon-menu-radius;
	background    : $tcon-menu-color;

	mix-blend-mode: multiply;
}

.tcon-menu__lines {
	position: relative;
	@include tcon-menu-lines;

	&::after,
	&::before {
		position        : absolute;
		left            : 0;
		width           : 100%;
		transform-origin: ($tcon-size / 14) center;
		content         : '';
		@include tcon-menu-lines;
	}

	&::before {
		top: ($tcon-size / 4);
	}

	&::after {
		top: -($tcon-size / 4);
	}

	.#{$tcon-jstransform} & {
		transform: scale3d(0.8, 0.8, 0.8);
	}
}

//The Menu Button
.tcon-menu--xcross {
	position  : absolute;
	top       : 0;
	left      : 0;
	width     : 100%;
	height    : 12vmin;
	margin    : 0;
	background: white;
	z-index   : 202;
	@include respond-to(tablet) {
		display: none;
	}

	&.menuOpen {
		position: fixed;
		top     : 0;
		left    : 0;
	}

	&.#{$tcon-jstransform} {
		.tcon-menu__lines {
			background: transparent;

			&::after,
			&::before {
				top             : 0;
				width           : $tcon-size;
				transform-origin: 50% 50%;
			}

			&::before {
				transform: rotate3d(0, 0, 1, 45deg);
			}

			&::after {
				transform: rotate3d(0, 0, 1, -45deg);
			}
		}
	}
}
// see issue #7 https://github.com/grayghostvisuals/transformicons/issues/7#issuecomment-59813596
.tcon-visuallyhidden {
	position: absolute;
	width   : 1px;
	height  : 1px;
	margin  : -1px;
	padding : 0;
	border  : 0;
	overflow: hidden;

	clip    : rect(0 0 0 0);

	&:active,
	&:focus {
		position: static;
		width   : auto;
		height  : auto;
		margin  : 0;
		overflow: visible;

		clip    : auto;
	}
}
$tcon-search-size: ($tcon-size * 0.75) !default;
$tcon-search-radius: ($tcon-size / 14) !default;
$tcon-search-color: black !default;
$tcon-search-glass-color: white !default;
$tcon-search-handle-width: ($tcon-size / 10) !default;
$tcon-search-glass-radius: ($tcon-size / 3.3333) !default;
$tcon-search-glass-border-width: ($tcon-size / 20) !default;
@mixin search-item {
	display      : inline-block;
	width        : $tcon-search-size;
	height       : $tcon-search-size;
	transition   : $tcon-transition;
	border-radius: 0;
	background   : transparent;
}

.tcon-search__item {
	position : relative;
	transform: rotate(-45deg);
	@include search-item;

	&::after,
	&::before {
		position: absolute;
		top     : 0;
		bottom  : 0;
		width   : 100%;
		margin  : auto;
		content : '';
		@include search-item;
	}

	&::before {
		left         : 0;
		height       : $tcon-search-handle-width;
		border-radius: $tcon-search-radius;
		background   : $tcon-search-color;
	}

	&::after {
		right           : 0;
		width           : $tcon-search-glass-radius;
		height          : $tcon-search-glass-radius;
		transform-origin: 50% 50%;
		border          : $tcon-search-glass-border-width solid black;
		border-radius   : 50%;
		background      : $tcon-search-glass-color;
	}
}

.tcon-search--xcross {
	&.#{$tcon-jstransform} {
		transform: scale3d(0.8, 0.8, 0.8);

		.tcon-search__item {
			&::after,
			&::before {
				border-radius: $tcon-search-radius;
				background   : $tcon-search-color;
			}

			&::after {
				top      : 0;
				right    : 0;
				width    : 100%;
				height   : $tcon-search-handle-width;
				transform: rotate3d(0, 0, 1, 90deg);
				border   : 0;
			}
		}
	}
}
$spinner_speed: 0.675s !default;
$spinner_radius: 80% !default;
$spinner_fill_radius: 90px !default;
$spinner_size: 40px !default;
$spinner_thickness: 10px !default;
$spinner_inner_circle: $spinner_size - $spinner_thickness !default;
$spinner_color: black !default;
$spinner_bg: lightgray !default;
$spinner_inner_bg: white !default;

.tcon-loader--spinner360 {
	display      : block;
	position     : relative;
	width        : $spinner_size;
	height       : $spinner_size;
	border-radius: 80%;
	background   : $spinner_bg;

	animation    : tcon-spin360 $spinner_speed linear infinite forwards;

	&:after,
	&:before {
		display : block;
		position: absolute;
		content : "";
	}

	&:before {
		top             : 0;
		right           : 0;
		width           : 50%;
		height          : $spinner_size;
		border-radius   : 0 $spinner_fill_radius $spinner_fill_radius 0;
		background      : $spinner_color;
		background-image: linear-gradient($spinner_bg, $spinner_color);
		z-index         : 1;
	}

	&:after {
		top          : 50%;
		left         : 50%;
		width        : $spinner_inner_circle;
		height       : $spinner_inner_circle;
		transform    : translate(-50%, -50%);
		border-radius: $spinner_radius;
		background   : $spinner_inner_bg;
		z-index      : 1;
	}
}
@keyframes tcon-spin360 {
	to {
		transform: rotate(360deg);
	}
}
//
