// =================================================================================
//
//	Basically everything but the interviews page uses this. It's sectioned off
//	by which page is being styled. This isn't just the grid cards, but also the
//	layout for all the blocks within the grid.
//
// =================================================================================

// =================================================================================
//
// 8888888888          888            d8b
// 888                 888            Y8P
// 888                 888
// 8888888    88888b.  888888 888d888 888  .d88b.  .d8888b
// 888        888 "88b 888    888P"   888 d8P  Y8b 88K
// 888        888  888 888    888     888 88888888 "Y8888b.
// 888        888  888 Y88b.  888     888 Y8b.          X88
// 8888888888 888  888  "Y888 888     888  "Y8888   88888P'
//
// ===============================================================================
//
//	General stuff that applies to all stacking grids
//
// ===============================================================================

.is-scrollable {
	@include respond-to(laptop) {
		position: absolute !important;
	}
}

.fixedTop {
	position: fixed;
	top     : auto !important;
	bottom  : 100vh !important;
	z-index : 1 !important;
}

.scrollHide {
	@include respond-to(laptop) {
		opacity   : 0;
		transition: opacity 0.1s;
	}
}

[class*='-section'] {
	position  : relative;
	top       : 0;
	left      : 0;
	right     : 0;
	margin    : 0 0 0.5em;
	padding   : 0;
	opacity   : 0; //NOTE: please don't break everything...
	box-shadow: none;
	transition: box-shadow 0.5s;
	@include respond-to(laptop) {
		position : fixed;
		margin   : 0;
		transform: translateY(2vw);
	}

	.inner {
		position: relative;
		top     : 0;
		left    : 0;
		width   : 100%;
		height  : 100%;
		color   : white;
	}

	h1,
	p {
		position  : relative;
		z-index   : 20;
		color     : white;
		transition: opacity 0.5s;
	}

	[class^='button-'] {
		transition: opacity 0.5s;
	}

	.v-title {
		position  : absolute;
		top       : 0;
		left      : 0;
		right     : 0;
		bottom    : 0;
		margin    : auto;
		height    : 1em;
		z-index   : 8;
		text-align: center;
		@include respond-to(tablet) {
			margin    : 0;
			top       : 4rem;
			left      : 5rem;
			text-align: left;
		}
	}

	.v-thumbnail {
		position      : relative;
		width         : 100%;
		height        : auto;
		mix-blend-mode: multiply;
		z-index       : 1;
	}

	.v-description {
		display: none;
		top    : 100%;
		@include respond-to(tablet) {
			position: absolute;
			display : block;
			top     : 7rem;
			left    : 5rem;
			width   : 50%;
		}
		z-index: 8;
	}
}

// 888    888
// 888    888
// 888    888
// 8888888888  .d88b.  88888b.d88b.   .d88b.
// 888    888 d88""88b 888 "888 "88b d8P  Y8b
// 888    888 888  888 888  888  888 88888888
// 888    888 Y88..88P 888  888  888 Y8b.
// 888    888  "Y88P"  888  888  888  "Y8888
//
// =============================================================================

.home main {
	width  : 100%;
	padding: 0 6vw;
	@include respond-to(tablet) {
		width     : auto;
		padding   : 0;
		margin-top: -4vw;
	}
}

.home #v-header,
[id^='home-'] {
	margin-top: 4vw;
	@include respond-to(tablet) {
		margin-top: auto;
	}
}

#home-play {
	margin-top         : 15vmin;
	height             : 60vw;
	background-color   : #fff6ee;
	animation-delay    : 1.5s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		margin: 4vw auto auto 8vw;
		width : 86vw;
	}
	@include respond-to(laptop) {
		height: calc(100vh - 14vw);
	}

	.inner {
		display: flex;
		height : 100%;
	}

	#home-play-logo {
		margin: auto;
		width : 50vmin;
		height: auto;
	}
}

#home-about {
	background-color   : $color1;
	animation-delay    : 1s;
	animation-fill-mode: forwards;
	padding            : 3vw;
	@include respond-to(tablet) {
		margin-top : 9.5vw;
		margin-left: 21.5vw;
		width      : 73vw;
		height     : calc(100vh - 18vw);
	}
	@include respond-to(tablet, p) {
		margin-top: 40vw;
		height    : calc(100vh - 48.5vw);
	}

	.inner {
		// padding: 3vw;
		padding: 3vw 0;
		@include respond-to(tablet) {
			float       : right;
			margin-top  : 0;
			margin-right: 3vw;
			width       : 35em;
			height      : auto;
		}
		@include respond-to(tablet, p) {
			margin-top: 30vw;
		}
		@include respond-to(laptop) {
			// margin-right: 7vw;
			margin-right: 0;
			// width       : 36vw;
		}

		p {
			margin: 2em 0 0;
		}
	}

	.collage {
		position      : relative;
		top           : 0;
		left          : 0;
		width         : 100%;
		mix-blend-mode: multiply;
		@include respond-to(tablet) {
			position      : absolute;
			width         : 40vw;
			top           : -5.1vw;
			left          : -14vw;
			z-index       : 350;
			mix-blend-mode: multiply;
		}
		@include respond-to(tablet, p) {
			width: 60vw;
			top  : -29.5vw;
			left : -11vw;
		}
	}
}

#home-videos {
	opacity            : 0; //please don't break everything...
	background-color   : $color3;
	box-shadow         : none;
	color              : white;
	padding            : 3vw;
	animation-delay    : 0.75s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		margin-top   : 3vw;
		margin-left  : 6.5vw;
		margin-bottom: 8vw;
		width        : calc(6vmin + 35em);
		height       : 30vw;
	}
	@include respond-to(tablet, p) {
		height       : 80vw;
		margin-bottom: 3vw;

		// h1 {
		// 	clear: both;
		// 	position: absolute;
		// 	top: 3em;
		// }
	}
	@include respond-to(laptop) {
		// height       : calc(100vh - 30vw);
		height       : auto;
		width        : calc(9vmin + 35em);
		margin-bottom: 12vw;
	}
	@include respond-to(desktop) {
		margin-bottom: 20vw;
	}

	.collage {
		position      : relative;
		top           : 0;
		left          : 0;
		width         : 100%;
		mix-blend-mode: multiply;
		@include respond-to(tablet) {
			position: absolute;
			width   : 65vw;
			height  : auto;
			top     : 35vw;
			left    : 10.5vw;
		}
		@include respond-to(laptop) {
			position: absolute;
			height  : auto;
			width   : 43vw;
			top     : 5vw;
			left    : calc(-2vmin + 35em);
		}
	}

	.inner {
		top  : 2vw;
		left : 2vw;
		width: 95%;
		@include respond-to(tablet) {
			top  : 0;
			left : 0;
			width: 35em;
		}
	}

	a,
	h1,
	p {
		margin-top: 1em;
		text-align: left;
		@include respond-to(tablet) {
			margin-left: 3vw;
		}
	}

	h1 {
		margin-top: 3vw;
	}
}

.home #v-header {
	animation-delay    : 0s;
	animation-fill-mode: forwards;
	margin-bottom      : 2em;
	@include respond-to(tablet) {
		width      : 86vw;
		margin-left: 8vw;
	}
	@include respond-to(laptop) {
		// margin-top   : calc((100vh - 36.86vw) * 0.25);
		// margin-bottom: calc((100vh - 36.86vw) * 0.5);
	}
}

/*******************************************************************************

888     888 d8b      888
888     888 Y8P      888
888     888          888
Y88b   d88P 888  .d88888  .d88b.   .d88b.  .d8888b
 Y88b d88P  888 d88" 888 d8P  Y8b d88""88b 88K
  Y88o88P   888 888  888 88888888 888  888 "Y8888b.
   Y888P    888 Y88b 888 Y8b.     Y88..88P      X88
    Y8P     888  "Y88888  "Y8888   "Y88P"   88888P'

*******************************************************************************/

#v-intro {
	margin             : 0 6vw;
	width              : 88vw;
	box-shadow         : none;
	z-index            : 3;
	animation-delay    : 0.75s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		height: calc(100vh - 25vw);
		margin: 10vw auto 0;
		width : auto;
	}
	@include respond-to(laptop) {
		width : 88vw;
		height: auto;
		margin: 10vw auto 0;
	}
	@include respond-to(desktop) {
		// margin-bottom: 6vw;
	}

	.v-portrait {
		position: absolute;
		top     : 0;
		left    : 10%;
		height  : 100%;
		width   : auto;
	}

	#v-contents,
	#v-description {
		position  : relative;
		width     : 100%;
		margin    : 0;
		min-height: 49%;
	}

	/******************************
		Contents Section
	******************************/

	#v-contents {
		left   : 0;
		top    : 0;
		padding: 1.5em 3% 3%;
		@extend .green-bg;
		@include respond-to(tablet) {
			top       : -20vh;
			left      : 5%;
			width     : 75%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			top       : 0;
			left      : 5%;
			width     : 45%;
			min-height: 0;
		}

		.quote {
			font-size   : 1.5em;
			padding-left: 30%;
			margin-top  : 2%;
		}

		.v-chapter-container {
			position: relative;
		}

		#v-chapter-ind {
			position   : absolute;
			display    : none;
			top        : 0;
			width      : 115%;
			height     : 3em;
			margin-left: -1em;
			//FIXME: This will for sure cause problems once the play button is added...
			transition : margin-top 0.3s ease-in-out;
			@extend .green-bg;
			@include respond-to(tablet) {
				display: block;
			}

			&::before {
				content      : '';
				position     : absolute;
				display      : block;
				left         : 1em;
				top          : 1em;
				width        : 0;
				height       : 0;
				z-index      : 5;
				border-top   : 0.75em solid transparent;
				border-left  : 1.5em solid white;
				border-bottom: 0.75em solid transparent;
			}
		}

		&::after {
			z-index: 1;
		}
	}

	.v-contents-title {
		margin-top: 0;
	}

	.v-chapter {
		position: relative;
		display : table;
		width   : 100%;
		height  : 3em;
		z-index : 8;

		a {
			display       : table-cell;
			height        : 100%;
			width         : 100%;
			vertical-align: middle;
			border-bottom : none;

			&:hover::before {
				display: none;
			}
		}

		.v-chapter-number {
			width: 3em;
			@media (orientation: portrait) {
				line-height: 1;
				width      : 2em;
			}
		}

		.v-chapter-duration,
		.v-chapter-number,
		.v-chapter-title {
			position   : relative;
			display    : inline-block;
			height     : 1.5em;
			margin     : 0;
			font-family: Header;
			color      : white;
			@media (orientation: portrait) {
				height: auto;
			}
		}

		.v-chapter-title {
			// @extend .navLink;
			display       : inline;
			padding-bottom: 0.25em;

			// &::before {
			// 	background-color: white;
			// }
			@media (orientation: portrait) {
				width: calc(100% - 7em);
			}
		}

		.v-chapter-duration {
			position: absolute;
			right   : 0;
		}
	}

	/********************************
		Video Description
	********************************/

	#v-description {
		margin : 2em 0;
		right  : 0;
		padding: 2em 1em 2em 4em;
		@extend .blue-bg;
		@include respond-to(tablet) {
			position  : relative;
			margin-top: -22vh;
			left      : 10%;
			top       : 0;
			width     : 85%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			// margin: 0;
			// top   : -5em;
			// left  : 43%;
			// width : 57%;
			margin    : 0;
			left      : 7%;
			top       : 0;
			margin-top: -2em;
			width     : 40em;
		}

		/*@media (orientation: portrait) {
			bottom: 10%;
			height: 50%;
		}*/

		.inner {
			opacity   : 1;
			transition: opacity 0.5s;
		}

		h1,
		p {
			@include respond-to(tablet) {
				width: 35em;
			}
		}
	}

	/********************************
		Collage
	********************************/

	#collage {
		width : 100%;
		height: auto;
		@include respond-to(tablet) {
			position      : relative;
			top           : -5vh;
			left          : 4vw;
			height        : auto;
			width         : 86vw;
			z-index       : 350;
			mix-blend-mode: multiply;
		}
		@include respond-to(laptop) {
			// position: absolute;
			// top     : -5vw;
			// left    : auto;
			// right   : 0;
			float     : right;
			top       : auto;
			left      : auto;
			height    : 36vw;
			width     : auto;
			margin-top: -5vh;
		}
	}
}

/*******************************************************************************

888888b.   d8b
888  "88b  Y8P
888  .88P
8888888K.  888  .d88b.
888  "Y88b 888 d88""88b
888    888 888 888  888
888   d88P 888 Y88..88P
8888888P"  888  "Y88P"

*******************************************************************************/

main.team-vid {
	#v-intro {
		margin  : 18vmin 6vw 4em;
		height  : auto;
		overflow: visible;
		z-index : 3;
		@include respond-to(tablet) {
			margin: 10vw 6vw 0;
		}

		.v-portrait {
			position      : relative;
			width         : 100%;
			height        : auto;
			left          : 0;
			z-index       : 5;
			mix-blend-mode: multiply;
			@include respond-to(tablet) {
				top   : -5vh;
				left  : 0;
				height: auto;
				width : 88vw;
			}
			@include respond-to(laptop) {
				top   : -10vh;
				left  : 1vw;
				height: auto;
				width : 43vw;
			}
		}
	}

	/****************************************
		CONTENTS
	****************************************/

	#v-intro #v-name {
		@extend .green-bg;
		position: relative;
		display : table;
		width   : 100%;
		padding : 1.5em 3% 0.5em;
		height  : auto;
		@include respond-to(tablet) {
			left          : auto;
			top           : 0;
			right         : auto;
			padding-bottom: 1%;
			margin-top    : -20vw;
			min-height    : 0;
			width         : auto;
		}
		@include respond-to(laptop) {
			position  : absolute;
			top       : 9vh;
			right     : 5vw;
			margin-top: 0;
			min-height: 0;
			width     : auto;
		}
		@include respond-to(desktop) {
			top  : 8vh;
			right: auto;
			left : 29vw;
		}

		.roles {
			@extend .card-header_subhead;
			margin: 0.5em 0;
			@include respond-to(tablet) {
				white-space: nowrap;
			}
		}

		.v-contents-title,
		p.quote {
			@include respond-to(tablet) {
				padding-left: 3rem;
			}
			@include respond-to(laptop) {
				// padding-left : 10rem;
				margin-bottom: 0.5em;
			}
		}
	}

	/****************************************
		DESCRIPTION
	****************************************/

	#v-intro #v-description {
		position     : relative;
		width        : 100%;
		left         : 0;
		top          : 0;
		height       : auto;
		margin-bottom: 1em;
		padding-top  : 1em;
		@include respond-to(tablet) {
			width     : 40em;
			left      : 6vw;
			top       : -5vh;
			margin-top: 0;
		}
		@include respond-to(laptop) {
			position   : absolute;
			top        : calc(9.5vh + 3.5em);
			width      : 40em;
			right      : 2vw;
			left       : auto;
			padding-top: 4em;
		}
		@include respond-to(desktop) {
			top  : calc(6vh + 7em);
			right: auto;
			left : 37vw;
		}

		.v-chapter-desc {
			top: 15%;
		}
	}
}

// 88888888888
//     888
//     888
//     888   .d88b.   8888b.  88888b.d88b.
//     888  d8P  Y8b     "88b 888 "888 "88b
//     888  88888888 .d888888 888  888  888
//     888  Y8b.     888  888 888  888  888
//     888   "Y8888  "Y888888 888  888  888
//
// =============================================================================

#team-about {
	position        : relative;
	margin-top      : 2vw;
	margin-left     : 5vw;
	width           : 90%;
	height          : auto;
	padding         : 2em;
	background-color: $color1;
	z-index         : 1;
	animation-delay : 0.5s;
	overflow        : hidden;

	.img-bg {
		display       : none;
		position      : relative;
		width         : 70%;
		height        : auto;
		mix-blend-mode: multiply;
		font-size     : 0;

		img {
			position: relative;
			width   : 100%;
			height  : auto;
			opacity : 0.5;
		}
		@include respond-to(tablet) {
			display: block;
		}
	}

	p {
		@extend .para;
		margin-bottom: 1em;
	}
	@include respond-to(tablet) {
		margin-top: 15vw;
		padding   : 0;
	}
	@include respond-to(laptop) {
		position   : fixed;
		margin-top : 7vw;
		margin-left: 9vw;
		width      : 85vw;

		h2 {
			font-family: "SubHead", Arial, sans-serif;
			font-size  : 1.2rem;
		}
	}

	.inner {
		@include respond-to(phone) {
			width   : auto;
			position: absolute;
			padding : 2em;
		}
		@include respond-to(laptop) {
			top          : 1em;
			right        : 0;
			left         : auto;
			padding-right: 3em;
		}
	}

	h1 {
		@extend .card-header_info;
		color: white;
	}
}

#flex-grid-team {
	@include respond-to(laptop) {
		position: fixed;
	}
}

#bottom-bg {
	position : absolute;
	bottom   : 0;
	left     : 42vw;
	height   : 40vh;
	width    : 88vw;
	transform: translateX(-50%);
	@include respond-to(laptop) {
		background: $color4;
	}
}
