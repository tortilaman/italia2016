// =================================================================================
//
//	Basically everything but the interviews page uses this. It's sectioned off
//	by which page is being styled. This isn't just the grid cards, but also the
//	layout for all the blocks within the grid.
//
// =================================================================================

// =================================================================================
//
//	88888888888                                   88
// 	88                         ,d                 ""
// 	88                         88
// 	88aaaaa      8b,dPPYba,  MM88MMM  8b,dPPYba,  88   ,adPPYba,  ,adPPYba,
// 	88"""""      88P'   `"8a   88     88P'   "Y8  88  a8P_____88  I8[    ""
// 	88           88       88   88     88          88  8PP"""""""   `"Y8ba,
// 	88           88       88   88,    88          88  "8b,   ,aa  aa    ]8I
// 	88888888888  88       88   "Y888  88          88   `"Ybbd8"'  `"YbbdP"'
//
// ===============================================================================
//
//	General stuff that applies to all stacking grids
//
// ===============================================================================

.is-scrollable {
	position: relative !important;
}

.fixedTop {
	position  : fixed;
	top       : auto !important;
	bottom    : 100vh !important;
	z-index   : 1 !important;
	box-shadow: 0.01rem 0.01rem 1rem rgba(50, 50, 50, 0.2) !important;
	transition: box-shadow 0.5s;
}

.scrollHide {
	@include respond-to(tablet) {
		opacity   : 0;
		transition: opacity 0.1s;
	}
}

[class*='-section'] {
	position  : relative;
	top       : 0;
	left      : 0;
	right     : 0;
	margin    : 0 0 0.5em;
	padding   : 0;
	box-shadow: none;
	transition: box-shadow 0.5s;
	@include respond-to(tablet) {
		position : fixed;
		margin   : 0;
		transform: translateY(2em);
	}

	.inner {
		position: relative;
		top     : 0;
		left    : 0;
		width   : 100%;
		height  : 100%;
		color   : white;
	}

	h1,
	p {
		position  : relative;
		z-index   : 20;
		color     : white;
		transition: opacity 0.5s;
	}

	[class^='button-'] {
		transition: opacity 0.5s;
	}

	.v-title {
		position  : absolute;
		top       : 0;
		left      : 0;
		right     : 0;
		bottom    : 0;
		margin    : auto;
		height    : 1em;
		z-index   : 8;
		text-align: center;
		@include respond-to(tablet) {
			margin    : 0;
			top       : 4rem;
			left      : 5rem;
			text-align: left;
		}
	}

	.v-thumbnail {
		position      : relative;
		width         : 100%;
		height        : auto;
		mix-blend-mode: multiply;
		z-index       : 1;
	}

	.v-description {
		display: none;
		top    : 100%;
		@include respond-to(tablet) {
			position: absolute;
			display : block;
			top     : 7rem;
			left    : 5rem;
			width   : 50%;
		}
		z-index: 8;
	}
}

/*==========================================

88        88
88        88
88        88
88aaaaaaaa88   ,adPPYba,   88,dPYba,,adPYba,    ,adPPYba,
88""""""""88  a8"     "8a  88P'   "88"    "8a  a8P_____88
88        88  8b       d8  88      88      88  8PP"""""""
88        88  "8a,   ,a8"  88      88      88  "8b,   ,aa
88        88   `"YbbdP"'   88      88      88   `"Ybbd8"'

//========================================*/

.home main {
	width  : 100%;
	padding: 0 5vw;
	@include respond-to(tablet) {
		width  : auto;
		padding: 0;
	}
}

[id^='home-'] {
	//	margin: 0 0 2vw 0;
	width: 100%;
}

#home-play {
	margin-top      : 12vmin;
	height          : 90vw;
	background-color: #fff6ee;
	animation-delay : 0.75s;
	@include respond-to(tablet) {
		margin: 8vw auto auto 8vw;
		width : 86vw;
		height: calc(100vh - 14vw);
	}

	.inner {
		display: flex;
		height : 100%;
	}

	#home-play-logo {
		margin: auto;
		width : 50vmin;
		height: auto;
	}
}

#home-about {
	background-color     : $color1;
	background-image     : url("/assets/images/working.jpg");
	background-position  : left;
	background-size      : contain;
	background-repeat    : no-repeat;
	animation-delay      : 0.5s;
	background-blend-mode: multiply;
	@include respond-to(tablet) {
		margin-top : 13.5vw;
		margin-left: 21.5vw;
		width      : 73vw;
		height     : calc(100vh - 18vw);
	}

	&.bgHidden {
		background-color: $color1;
		background-image: url("");
	}

	.inner {
		padding   : 3vw;
		text-align: center;
		@include respond-to(tablet) {
			float       : right;
			margin-top  : 0;
			margin-right: 3vw;
			width       : 42vw;
			height      : 100%;
		}

		h1,
		p {
			text-align: left;
			margin    : 0;
		}

		p {
			margin: 2em 0 0;
		}
	}
}

#home-videos {
	box-shadow         : none;
	color              : white;
	animation-delay    : 0.25s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		margin-top : 7vw;
		margin-left: 6.5vw;
		width      : 80%;
		height     : calc(100vh - 14vw);
	}

	#home-interviews {
		position     : relative;
		padding      : 1vw;
		text-align   : center;
		margin-bottom: 0.5em;
		@extend .blue-bg;
		@include respond-to(tablet) {
			padding      : 3vw;
			margin-bottom: 0;
			width        : 40vw;
			box-shadow   : 0.01rem 0.01rem 0.1rem $shadow;
		}

		h1 {
			margin-top : 3vw;
			margin-left: 6vw;
			text-align : left;
		}

		p {
			margin-top : 2vw;
			margin-left: 6vw;
			text-align : left;
		}

		.inner {
			top : -2vw;
			left: -2vw;
		}
	}

	#home-films {
		position  : relative;
		padding   : 3vw;
		text-align: center;
		@extend .blue-bg;
		@include respond-to(tablet) {
			position: absolute;
			top     : 12vw;
			left    : 35vw; //		height: 50%;
			padding : 3vw;
			width   : 40vw;
		}

		h1 {
			margin-top : 3vw;
			margin-left: 6vw;
			text-align : left;
		}

		p {
			margin-top : 2vw;
			margin-left: 6vw;
			text-align : left;
		}

		&::after {
			z-index: 1;
		}
	}
}

#v-header.home-section {
	background: none;
	box-shadow: none;
}

/*==========================================

88                       88  88
88    ,d                 88  ""
88    88                 88
88  MM88MMM  ,adPPYYba,  88  88  ,adPPYYba,
88    88     ""     `Y8  88  88  ""     `Y8
88    88     ,adPPPPP88  88  88  ,adPPPPP88
88    88,    88,    ,88  88  88  88,    ,88
88    "Y888  `"8bbdP"Y8  88  88  `"8bbdP"Y8

//========================================*/
#italia-content {
	width: 80vw;
}

[id^='italia-'] {
	width     : 100%;
	height    : 42.86vw;
	margin-top: 1em;
	left      : 1.8em;
	overflow  : hidden;
	@include respond-to(tablet) {
		width : 60vw;
		height: 25.71vw;
	}

	.v-thumbnail {
		position: absolute;
	}

	a {
		position   : absolute;
		top        : 0;
		left       : 0;
		height     : 100%;
		width      : 100%;
		padding-top: 25%;
		z-index    : 8;
		color      : white;
		text-align : center;

		&:hover::before {
			display: none;
		}
		@include respond-to(tablet) {
			text-align : left;
			top        : 75%;
			left       : 5rem;
			height     : auto;
			width      : auto;
			padding-top: 0;
		}
	}
}

#italia-intro {
	height    : auto;
	margin-top: 12vw;
	@include respond-to(tablet) {
		margin-top : 18vw;
		margin-left: 25vw;
		width      : 30vw;
		height     : 20vw;
		background : white;
	}

	.inner {
		padding: 2em;

		h2,
		p {
			position  : relative;
			color     : $color5;
			margin-top: 0.5em;
		}

		p {
			margin-left: 0;
		}
	}
}

#italia-pace {
	@extend .green-bg;
	@include respond-to(tablet) {
		margin-top : 10vw;
		margin-left: 15vw;
	}
}

#italia-workers {
	@extend .blue-bg;
	@include respond-to(tablet) {
		margin-top : 15vw;
		margin-left: 28vw;
	}
}

#italia-italy {
	@extend .tan-bg;
	@include respond-to(tablet) {
		margin-top   : 20vw;
		margin-left  : 20vw;
		margin-bottom: calc(100vh - 50.71vw);
	}
}

/*==========================================

	   db         88  88     8b           d8  88           88
	  d88b        88  88     `8b         d8'  ""           88
	 d8'`8b       88  88      `8b       d8'                88
	d8'  `8b      88  88       `8b     d8'    88   ,adPPYb,88   ,adPPYba,   ,adPPYba,   ,adPPYba,
   d8YaaaaY8b     88  88        `8b   d8'     88  a8"    `Y88  a8P_____88  a8"     "8a  I8[    ""
  d8""""""""8b    88  88         `8b d8'      88  8b       88  8PP"""""""  8b       d8   `"Y8ba,
 d8'        `8b   88  88          `888'       88  "8a,   ,d88  "8b,   ,aa  "8a,   ,a8"  aa    ]8I
d8'          `8b  88  88           `8'        88   `"8bbdP"Y8   `"Ybbd8"'   `"YbbdP"'   `"YbbdP"'

//========================================*/

/*main:not([class*='child']) #v-intro {
	opacity: 0;
}*/

#v-intro {
	margin             : 0 auto;
	width              : 98vw;
	box-shadow         : none;
	animation-delay    : 0.75s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		height: calc(100vh - 25vw);
		margin: 10vw auto 0;
		width : auto;
	}
	@include respond-to(laptop) {
		width : 90vw;
		height: auto;
		margin: 10vw auto 0;
	}

	.v-portrait {
		position: absolute;
		top     : 0;
		left    : 10%;
		height  : 75%;
		width   : auto;
	}

	#v-contents,
	#v-description {
		position  : relative;
		width     : 100%;
		margin    : 0;
		min-height: 49%;
	}

	#v-contents {
		left   : 0;
		top    : 0;
		padding: 1.5em 3% 3%;
		@extend .green-bg;
		@include respond-to(tablet) {
			left      : 5%;
			width     : 60%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			left      : 5%;
			width     : 45%;
			min-height: 0;
		}

		.quote {
			font-size   : 1.5em;
			padding-left: 30%;
			margin-top  : 2%;
		}

		.v-chapter-container {
			position: relative;
		}

		#v-chapter-ind {
			position   : absolute;
			display    : none;
			top        : 0;
			width      : 125%;
			height     : 3em;
			margin-left: -1em;
			//FIXME: This will for sure cause problems once the play button is added...
			transition : margin-top 0.3s ease-in-out;
			@extend .green-bg;
			@include respond-to(tablet) {
				display: block;
			}

			&::before {
				content      : '';
				position     : absolute;
				display      : block;
				left         : 0.75em;
				top          : 0.625em;
				width        : 0;
				height       : 0;
				z-index      : 5;
				border-top   : 1em solid transparent;
				border-left  : 2em solid white;
				border-bottom: 1em solid transparent;
			}
		}

		&::after {
			z-index: 1;
		}
	}

	.v-contents-title {
		margin-top: 0;
	}

	.v-chapter {
		position: relative;
		display : table;
		width   : 100%;
		height  : 3em;
		z-index : 8;

		a {
			display       : table-cell;
			height        : 100%;
			width         : 100%;
			vertical-align: middle;
			border-bottom : none;

			&:hover::before {
				display: none;
			}
		}

		.v-chapter-number {
			width: 3em;
			@media (orientation: portrait) {
				line-height: 1;
				width      : 2em;
			}
		}

		.v-chapter-duration,
		.v-chapter-number,
		.v-chapter-title {
			position   : relative;
			display    : inline-block;
			height     : 1.5em;
			margin     : 0;
			font-family: Header;
			color      : white;
			@media (orientation: portrait) {
				height: auto;
			}
		}

		.v-chapter-title {
			display       : inline;
			padding-bottom: 0.25em;
			border-bottom : 0.15em solid;
			@media (orientation: portrait) {
				width: calc(100% - 7em);
			}
		}

		.v-chapter-duration {
			position: absolute;
			right   : 0;
		}
	}

	#v-description {
		margin-top: 1vh;
		right     : 0;
		padding   : 4% 6%;
		@extend .blue-bg;
		@include respond-to(tablet) {
			margin-top: 0;
			left      : 35%;
			top       : -3%;
			width     : 60%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			top  : -5em;
			left : 43%;
			width: 57%;
		}

		/*@media (orientation: portrait) {
			bottom: 10%;
			height: 50%;
		}*/

		.inner {
			opacity   : 1;
			transition: opacity 0.5s;
		}
	}
}

/*==========================================

888888888888
	 88
	 88
	 88   ,adPPYba,  ,adPPYYba,  88,dPYba,,adPYba,
	 88  a8P_____88  ""     `Y8  88P'   "88"    "8a
	 88  8PP"""""""  ,adPPPPP88  88      88      88
	 88  "8b,   ,aa  88,    ,88  88      88      88
	 88   `"Ybbd8"'  `"8bbdP"Y8  88      88      88

//========================================*/

main.team-vid {
	#v-intro {
		margin-top: 12vmin;
		height    : auto;
		@include respond-to(tablet) {
			margin-top: 10vw;
			height    : calc(100vh - 14vw);

		}

		.v-portrait {
			position: relative;
			width   : 100%;
			height  : auto;
			left    : 0;
			@include respond-to(tablet) {
				position: absolute;
				top     : 0;
				left    : 10%;
				height  : 75%;
				width   : auto;
			}
		}
	}

	#v-intro #v-contents {
		position      : relative;
		width         : 100%;
		padding-bottom: 1%;
		height        : auto;
		margin-top    : - 8em;
		@include respond-to(tablet) {
			position      : absolute;
			left          : 25%;
			top           : 27%;
			padding-bottom: 1%;
			min-height    : 0;
			width         : 35%;
		}

		.v-contents-title {
			padding-left: 22%;
			display     : inline-block;
		}
	}

	#v-intro #v-description {
		position     : relative;
		width        : 100%;
		right        : 0;
		top          : 0;
		height       : auto;
		margin-bottom: 1em;
		@include respond-to(tablet) {
			position: absolute;
			width   : 55%;
			right   : 15%;
			top     : calc(8% + 4.5em);
		}

		.v-chapter-desc {
			top: 15%;
		}
	}
}

#team-about {
	position             : relative;
	margin-top           : 2vw;
	margin-left          : 5vw;
	width                : 90%;
	height               : auto;
	padding              : 2em;
	background-color     : $color1;
	background-image     : url("/assets/images/team_pic_small.png");
	background-position  : left;
	background-size      : contain;
	background-repeat    : no-repeat;
	animation-delay      : 0.5s;
	background-blend-mode: multiply;
	@include respond-to(tablet) {
		position             : fixed;
		margin-top           : 15vw;
		margin-left          : 15vw;
		width                : 60vw;
		height               : 50vh;
		padding              : 2em;
		background-color     : $color1;
		background-image     : url("/assets/images/team_pic_small.png");
		background-position  : left;
		background-size      : contain;
		background-repeat    : no-repeat;
		animation-delay      : 0.5s;
		background-blend-mode: multiply;
	}
}

main.team #flex-grid-team {
	position  : relative;
	margin    : 2vw 5vw 0;
	width     : 90vw;
	box-shadow: none;
	@include respond-to(tablet) {
		position  : fixed;
		margin    : 6vw 5vw 0;
		width     : 90vw;
		box-shadow: none;
	}
}
