// =================================================================================
//
//	Basically everything but the interviews page uses this. It's sectioned off
//	by which page is being styled. This isn't just the grid cards, but also the
//	layout for all the blocks within the grid.
//
// =================================================================================

// =================================================================================
//
// 8888888888          888            d8b
// 888                 888            Y8P
// 888                 888
// 8888888    88888b.  888888 888d888 888  .d88b.  .d8888b
// 888        888 "88b 888    888P"   888 d8P  Y8b 88K
// 888        888  888 888    888     888 88888888 "Y8888b.
// 888        888  888 Y88b.  888     888 Y8b.          X88
// 8888888888 888  888  "Y888 888     888  "Y8888   88888P'
//
// ===============================================================================
//
//	General stuff that applies to all stacking grids
//
// ===============================================================================

.is-scrollable {
	@include respond-to(tablet) {
		position: absolute !important;
	}
}

.fixedTop {
	position  : fixed;
	top       : auto !important;
	bottom    : 100vh !important;
	z-index   : 1 !important;
	box-shadow: 0.01rem 0.01rem 1rem rgba(50, 50, 50, 0.2) !important;
	transition: box-shadow 0.5s;
}

.scrollHide {
	@include respond-to(tablet) {
		opacity   : 0;
		transition: opacity 0.1s;
	}
}

[class*='-section'] {
	position  : relative;
	top       : 0;
	left      : 0;
	right     : 0;
	margin    : 0 0 0.5em;
	padding   : 0;
	box-shadow: none;
	transition: box-shadow 0.5s;
	@include respond-to(tablet) {
		position : fixed;
		margin   : 0;
		transform: translateY(2vw);
	}

	.inner {
		position: relative;
		top     : 0;
		left    : 0;
		width   : 100%;
		height  : 100%;
		color   : white;
	}

	h1,
	p {
		position  : relative;
		z-index   : 20;
		color     : white;
		transition: opacity 0.5s;
	}

	[class^='button-'] {
		transition: opacity 0.5s;
	}

	.v-title {
		position  : absolute;
		top       : 0;
		left      : 0;
		right     : 0;
		bottom    : 0;
		margin    : auto;
		height    : 1em;
		z-index   : 8;
		text-align: center;
		@include respond-to(tablet) {
			margin    : 0;
			top       : 4rem;
			left      : 5rem;
			text-align: left;
		}
	}

	.v-thumbnail {
		position      : relative;
		width         : 100%;
		height        : auto;
		mix-blend-mode: multiply;
		z-index       : 1;
	}

	.v-description {
		display: none;
		top    : 100%;
		@include respond-to(tablet) {
			position: absolute;
			display : block;
			top     : 7rem;
			left    : 5rem;
			width   : 50%;
		}
		z-index: 8;
	}
}

// 888    888
// 888    888
// 888    888
// 8888888888  .d88b.  88888b.d88b.   .d88b.
// 888    888 d88""88b 888 "888 "88b d8P  Y8b
// 888    888 888  888 888  888  888 88888888
// 888    888 Y88..88P 888  888  888 Y8b.
// 888    888  "Y88P"  888  888  888  "Y8888
//
// =============================================================================

.home main {
	width  : 100%;
	padding: 0 5vw;
	@include respond-to(tablet) {
		width     : auto;
		padding   : 0;
		margin-top: -4vw;
	}
}

[id^='home-'] {
	//	margin: 0 0 2vw 0;
	width     : 100%;
	margin-top: 4vw;
	@include respond-to(tablet) {
		margin-top: auto;
	}
}

#home-play {
	margin-top      : 12vmin;
	height          : 90vw;
	background-color: #fff6ee;
	animation-delay : 0.75s;
	@include respond-to(tablet) {
		margin: 4vw auto auto 8vw;
		width : 86vw;
		height: calc(100vh - 14vw);
	}

	.inner {
		display: flex;
		height : 100%;
	}

	#home-play-logo {
		margin: auto;
		width : 50vmin;
		height: auto;
	}
}

#home-about {
	background-color: $color1;
	animation-delay : 0.5s;
	padding         : 3vw;
	@include respond-to(tablet) {
		margin-top : 9.5vw;
		margin-left: 21.5vw;
		width      : 73vw;
		height     : calc(100vh - 18vw);
	}

	.collage {
		position      : relative;
		top           : 0;
		left          : 0;
		width         : 100%;
		mix-blend-mode: multiply;
		@include respond-to(tablet) {
			position      : absolute;
			width         : 40vw;
			top           : -5.1vw;
			left          : -14vw;
			z-index       : 350;
			mix-blend-mode: multiply;
		}
	}

	.inner {
		padding: 3vw;
		@include respond-to(tablet) {
			float       : right;
			margin-top  : 0;
			margin-right: 3vw;
			width       : 42vw;
			height      : 100%;
		}
		@include respond-to(laptop) {
			margin-right: 7vw;
			width       : 36vw;
		}

		p {
			margin: 2em 0 0;
		}
	}
}

#home-videos {
	background-color   : $color3;
	box-shadow         : none;
	color              : white;
	padding            : 3vw;
	animation-delay    : 0.25s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		margin-top   : 3vw;
		margin-left  : 6.5vw;
		margin-bottom: 8vw;
		width        : 40vw;
		height       : calc(100vh - 20vw);
	}

	.collage {
		position      : relative;
		top           : 0;
		left          : 0;
		width         : 100%;
		mix-blend-mode: multiply;
		@include respond-to(tablet) {
			position: absolute;
			height  : 120%;
			width   : auto;
			top     : 3.3vh;
			left    : 30%;
		}
	}

	.inner {
		top  : 2vw;
		left : 2vw;
		width: 95%;
		@include respond-to(tablet) {
			top  : 0;
			left : 0;
			width: 35em;
		}
	}

	a,
	h1,
	p {
		margin-top: 2vw;
		text-align: left;
		@include respond-to(tablet) {
			margin-left: 3vw;
		}
	}

	h1 {
		margin-top: 3vw;
	}
}

#v-header.home {
	background: none;
	box-shadow: none;
	margin-top: 8vw;
	@include respond-to(tablet) {
		margin-top   : calc((100vh - 36.86vw) * 0.25);
		margin-bottom: calc((100vh - 36.86vw) * 0.5);
	}
}

// 8888888 888             888 d8b
//   888   888             888 Y8P
//   888   888             888
//   888   888888  8888b.  888 888  8888b.
//   888   888        "88b 888 888     "88b
//   888   888    .d888888 888 888 .d888888
//   888   Y88b.  888  888 888 888 888  888
// 8888888  "Y888 "Y888888 888 888 "Y888888
//
// =============================================================================

#italia-content {
	width: 80vw;
}

[id^='italia-'] {
	width     : 100%;
	height    : 42.86vw;
	margin-top: 1em;
	left      : 1.8em;
	overflow  : hidden;
	@include respond-to(tablet) {
		width : 60vw;
		height: 25.71vw;
	}

	.v-thumbnail {
		position: absolute;
	}

	a {
		position   : absolute;
		top        : 0;
		left       : 0;
		height     : 100%;
		width      : 100%;
		padding-top: 25%;
		z-index    : 8;
		color      : white;
		text-align : center;

		&:hover::before {
			display: none;
		}
		@include respond-to(tablet) {
			text-align : left;
			top        : 75%;
			left       : 5rem;
			height     : auto;
			width      : auto;
			padding-top: 0;
		}
	}
}

#italia-intro {
	height    : auto;
	margin-top: 12vw;
	@include respond-to(tablet) {
		margin-top : 18vw;
		margin-left: 25vw;
		width      : 30vw;
		height     : 20vw;
		background : white;
	}

	.inner {
		padding: 2em;

		h2,
		p {
			position  : relative;
			color     : $color5;
			margin-top: 0.5em;
		}

		p {
			margin-left: 0;
		}
	}
}

#italia-pace {
	@extend .green-bg;
	@include respond-to(tablet) {
		margin-top : 10vw;
		margin-left: 15vw;
	}
}

#italia-workers {
	@extend .blue-bg;
	@include respond-to(tablet) {
		margin-top : 15vw;
		margin-left: 28vw;
	}
}

#italia-italy {
	@extend .tan-bg;
	@include respond-to(tablet) {
		margin-top   : 20vw;
		margin-left  : 20vw;
		margin-bottom: calc(100vh - 50.71vw);
	}
}

/*******************************************************************************

888     888 d8b      888
888     888 Y8P      888
888     888          888
Y88b   d88P 888  .d88888  .d88b.   .d88b.  .d8888b
 Y88b d88P  888 d88" 888 d8P  Y8b d88""88b 88K
  Y88o88P   888 888  888 88888888 888  888 "Y8888b.
   Y888P    888 Y88b 888 Y8b.     Y88..88P      X88
    Y8P     888  "Y88888  "Y8888   "Y88P"   88888P'

*******************************************************************************/

#v-intro {
	margin             : 0 auto;
	width              : 98vw;
	box-shadow         : none;
	z-index            : 3;
	animation-delay    : 0.75s;
	animation-fill-mode: forwards;
	@include respond-to(tablet) {
		height: calc(100vh - 25vw);
		margin: 10vw auto 0;
		width : auto;
	}
	@include respond-to(tablet) {
		width : 90vw;
		height: auto;
		margin: 10vw auto 0;
	}

	.v-portrait {
		position: absolute;
		top     : 0;
		left    : 10%;
		height  : 100%;
		width   : auto;
	}

	#v-contents,
	#v-description {
		position  : relative;
		width     : 100%;
		margin    : 0;
		min-height: 49%;
	}

	/******************************
		Contents Section
	******************************/

	#v-contents {
		left   : 0;
		top    : 0;
		padding: 1.5em 3% 3%;
		@extend .green-bg;
		@include respond-to(tablet) {
			left      : 5%;
			width     : 60%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			left      : 5%;
			width     : 45%;
			min-height: 0;
		}

		.quote {
			font-size   : 1.5em;
			padding-left: 30%;
			margin-top  : 2%;
		}

		.v-chapter-container {
			position: relative;
		}

		#v-chapter-ind {
			position   : absolute;
			display    : none;
			top        : 0;
			width      : 115%;
			height     : 3em;
			margin-left: -1em;
			//FIXME: This will for sure cause problems once the play button is added...
			transition : margin-top 0.3s ease-in-out;
			@extend .green-bg;
			@include respond-to(tablet) {
				display: block;
			}

			&::before {
				content      : '';
				position     : absolute;
				display      : block;
				left         : 0.75em;
				top          : 0.625em;
				width        : 0;
				height       : 0;
				z-index      : 5;
				border-top   : 1em solid transparent;
				border-left  : 2em solid white;
				border-bottom: 1em solid transparent;
			}
		}

		&::after {
			z-index: 1;
		}
	}

	.v-contents-title {
		margin-top: 0;
	}

	.v-chapter {
		position: relative;
		display : table;
		width   : 100%;
		height  : 3em;
		z-index : 8;

		a {
			display       : table-cell;
			height        : 100%;
			width         : 100%;
			vertical-align: middle;
			border-bottom : none;

			&:hover::before {
				display: none;
			}
		}

		.v-chapter-number {
			width: 3em;
			@media (orientation: portrait) {
				line-height: 1;
				width      : 2em;
			}
		}

		.v-chapter-duration,
		.v-chapter-number,
		.v-chapter-title {
			position   : relative;
			display    : inline-block;
			height     : 1.5em;
			margin     : 0;
			font-family: Header;
			color      : white;
			@media (orientation: portrait) {
				height: auto;
			}
		}

		.v-chapter-title {
			@extend .navLink;
			display       : inline;
			padding-bottom: 0.25em;

			&::before {
				background-color: white;
			}
			@media (orientation: portrait) {
				width: calc(100% - 7em);
			}
		}

		.v-chapter-duration {
			position: absolute;
			right   : 0;
		}
	}

	/********************************
		Video Description
	********************************/

	#v-description {
		margin : 2em 0;
		right  : 0;
		padding: 4% 6% 4% 8%;
		@extend .blue-bg;
		@include respond-to(tablet) {
			position  : absolute;
			margin-top: 0;
			left      : 35%;
			top       : -3%;
			width     : 60%;
			min-height: 0;
		}
		@include respond-to(laptop) {
			// margin: 0;
			// top   : -5em;
			// left  : 43%;
			// width : 57%;
			position : relative;
			margin   : 0;
			left     : 10%;
			transform: translateY(-15%);
			width    : 60%;
		}

		/*@media (orientation: portrait) {
			bottom: 10%;
			height: 50%;
		}*/

		.inner {
			opacity   : 1;
			transition: opacity 0.5s;
		}

		h1,
		p {
			@include respond-to(tablet) {
				width: 35vw;
			}
		}
	}

	/********************************
		Collage
	********************************/

	#collage {
		width : 100%;
		height: auto;
		@include respond-to(tablet) {
			position: absolute;
			top     : -5vw;
			left    : 50vw;
			height  : 36vw;
			width   : auto;
		}
	}
}

/*******************************************************************************

888888b.   d8b
888  "88b  Y8P
888  .88P
8888888K.  888  .d88b.
888  "Y88b 888 d88""88b
888    888 888 888  888
888   d88P 888 Y88..88P
8888888P"  888  "Y88P"

*******************************************************************************/

main.team-vid {
	#v-intro {
		margin-top: 12vmin;
		height    : auto;
		overflow  : visible;
		z-index   : 3;
		@include respond-to(tablet) {
			margin-top: 10vw;
		}

		.v-portrait {
			position: relative;
			width   : auto;
			height  : 100%;
			left    : 0;
			@include respond-to(tablet) {
				position: absolute;
				top     : 0;
				left    : 10%;
				height  : 55vh;
				width   : auto;
			}
		}
	}

	#v-intro #v-contents {
		position      : relative;
		display       : table;
		width         : 100%;
		padding-bottom: 1%;
		height        : auto;
		margin-top    : - 8em;
		@include respond-to(tablet) {
			left          : 28%;
			margin-top    : 3em;
			padding-bottom: 1%;
			min-height    : 0;
			width         : auto;
		}

		.v-contents-title {
			@include respond-to(tablet) {
				padding-left: 3rem;
			}
			@include respond-to(laptop) {
				padding-left: 10rem;
			}
		}

		p.quote {
			@include respond-to(tablet) {
				white-space : nowrap;
				padding-left: 5rem;
			}
			@include respond-to(laptop) {
				padding-left: 12rem;
			}
		}
	}

	#v-intro #v-description {
		position     : relative;
		width        : 100%;
		right        : 0;
		top          : 0;
		height       : auto;
		margin-bottom: 1em;
		@include respond-to(tablet) {
			width     : 55%;
			right     : 15%;
			margin-top: -3em;
		}

		.v-chapter-desc {
			top: 15%;
		}
	}
}

// 88888888888
//     888
//     888
//     888   .d88b.   8888b.  88888b.d88b.
//     888  d8P  Y8b     "88b 888 "888 "88b
//     888  88888888 .d888888 888  888  888
//     888  Y8b.     888  888 888  888  888
//     888   "Y8888  "Y888888 888  888  888
//
// =============================================================================

#team-about {
	position        : relative;
	margin-top      : 2vw;
	margin-left     : 5vw;
	width           : 90%;
	height          : auto;
	padding         : 2em;
	background-color: $color1;
	z-index         : 1;
	animation-delay : 0.5s;

	.img-bg {
		position      : absolute;
		top           : 0;
		left          : 0;
		width         : 100%;
		height        : 100%;
		mix-blend-mode: multiply;

		img {
			position: absolute;
			bottom  : 0;
			left    : 0;
			width   : 100%;
			height  : auto;
			opacity : 0.5;
		}
	}

	p {
		margin-bottom: 1em;
	}
	@include respond-to(tablet) {
		position   : fixed;
		margin-top : 15vw;
		margin-left: 15vw;
		width      : 70vw;
		height     : 50vh;
		padding    : 2em;

		h2 {
			font-family: "SubHead", Arial, sans-serif;
			font-size  : 1.2rem;
		}
	}

	.inner {
		@include respond-to(laptop) {
			width: 70%;
		}
	}
}

main.team #flex-grid-team {
	position  : relative;
	margin    : 2vw 5vw 0;
	width     : 90vw;
	box-shadow: none;

	#page-info {
		margin-top: 0;
	}
	@include respond-to(tablet) {
		position      : fixed;
		margin        : 6vw 5vw 0;
		width         : 90vw;
		box-shadow    : none;
		padding-bottom: 0;

		#page-info {
			margin-top: 4em;
		}
	}
}
